{"version":3,"sources":["common/hooks/useWindowDimensions.ts","common/hooks/useIsMobileWidth.ts","sidebar/SidebarControl.tsx","sidebar/SidebarContent.tsx","common/images/header.svg","sidebar/SidebarTitle.tsx","AppContext.tsx","common/data/getData.ts","sidebar/SidebarItemWrapper.tsx","sidebar-datasets/TablePagination.tsx","sidebar-datasets/TableRow.tsx","sidebar-datasets/DatasetsForm.tsx","common/components/CopyToClipboard.tsx","sidebar-datasets/DatasetPreview.tsx","common/components/Slider.tsx","colormap/colormaps.ts","colormap/SinglebandSelector.tsx","colormap/RGBSlider.tsx","colormap/RGBSelector.tsx","colormap/endpoints.ts","colormap/DatasetsColormap.tsx","sidebar-datasets/SidebarDatasets.tsx","map/MapZoomControl.tsx","map/geojsonStyles.ts","map/Map.tsx","App.tsx","theme/theme.js","index.tsx"],"names":["getWindowDimensions","document","body","width","clientWidth","height","clientHeight","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","window","addEventListener","removeEventListener","useWindowDimensions","iconStyle","makeStyles","icon","backgroundColor","activeIcon","fill","useStyles","theme","leftBorder","borderLeft","topBorder","borderTop","noRadius","borderRadius","iconWrapper","flexDirection","tooltipStyle","breakpoints","down","display","SidebarControl","toggleSidebarOpen","isSidebarOpen","isMobile","useIsMobileWidth","rootClass","Box","className","justifyContent","IconButton","onClick","style","ChevronRight","color","ChevronLeft","ExpandMore","ExpandLess","rooterThanRoot","root","overflowY","maxWidth","minWidth","SidebarContent","children","classes","Paper","wrapper","margin","borderBottom","opacity","infoIcon","marginLeft","detailsBox","marginTop","marginBottom","cursor","detailsText","hostText","fontSize","wordBreak","SidebarTitle","host","details","keys","showDetails","setShowDetails","flexWrap","alignItems","src","HeaderImage","alt","Typography","variant","my","Link","href","target","map","keyItem","toLowerCase","join","AppContext","createContext","getData","url","a","fetch","data","json","console","error","undefined","paddingBottom","spinner","SidebarItemWrapper","isLoading","title","mb","CircularProgress","formControl","border","TablePagination","value","options","onGetValue","onGetPage","page","disableNext","disabled","FormControl","Select","id","onChange","e","Number","option","i","MenuItem","tableCell","padding","tableRow","iconChecked","noPadding","TableRow","dataset","keyVal","checked","onMouseEnter","onMouseLeave","hover","TableCell","Object","item","input","inputLabel","DatasetsForm","onSubmitFields","formValues","setFormValues","onSubmitForm","preventDefault","queryString","reduceKeys","reduce","acc","onSubmit","isLastUneven","length","TextField","toLocaleLowerCase","label","fullWidth","inputKey","formValuesCopy","onChangeInput","mt","Button","type","disabledStyle","enabledStyle","CopyToClipboard","helperText","message","location","copyUrl","tooltip","setTooltip","copy","setTimeout","Grid","container","spacing","justify","data-clipboard-text","background","outline","Tooltip","imagePreview","codeContainer","overflowX","codeContainerText","copyTooltip","DatasetPreview","limit","activeDataset","datasetUrl","colSpan","Collapse","in","timeout","unmountOnExit","p","xs","whiteSpace","j","includes","buildStr","datasetKey","loading","Slider","defaultValue","min","max","step","getValue","getValueCommitted","sliderMarginLeft","noNumbers","unit","setValue","direction","wrap","marginRight","Array","isArray","scale","x","val","newValue","onChangeCommitted","valueLabelDisplay","COLORMAPS","displayName","img_url","SinglebandSelector","useContext","state","colormap","datasets","activeSinglebandRange","actions","setColormap","setActiveSinglebandRange","localRange","setLocalRange","InputLabel","colorId","colormapObj","find","onSetColormap","String","mx","range","RGBSlider","selectValue","onGetSliderValue","onGetSelectValue","sliderValue","ml","RGBSelector","datasetBands","activeRGB","setActiveRGB","band","bandKey","onGetBandValue","sliderKey","endpoints","rgbText","DatasetsColormap","activeEndpoint","setActiveEndpoint","table","maxHeight","tableHeadTypography","fontWeight","limitOptions","SidebarDatasetsItem","selectedDatasetRasterUrl","setKeys","setHoveredDataset","setDatasets","setActiveDataset","setSelectedDatasetRasterUrl","setLimit","setPage","setDatasetBands","queryFields","setQueryFields","setIsLoading","getDatasets","pageRef","limitRef","response","datasetsResponse","hasOwnProperty","metadataResponsesPreFetch","buildMetadataUrl","preFetchData","Promise","all","metadataResponses","getKeys","keysReponse","keysArray","key","onGetRGBBands","noBandKeysURL","bands","keysRasterUrl","defaultRGB","buildRasterUrl","every","colorObj","rgbParams","TableContainer","Table","aria-labelledby","size","aria-label","TableHead","TableBody","index","actualIndex","onHandleRow","convex_hull","iconButton","boxSizing","gridStyle","position","left","top","boxShadow","zIndex","transform","ZoomControl","isOpticalBasemap","setIsOpticalBasemap","setViewport","placement","v","zoom","regionPaintFill","regionPaintLine","Map","viewport","hoveredDataset","localViewport","setLocalViewport","localRasterUrl","setLocalRasterUrl","basemap","mapRef","useRef","latitude","longitude","transitionDuration","transitionInterpolator","FlyToInterpolator","transitionEasing","easeCubicInOut","currentBounds","bounds","formattedBounds","current","mapHeight","scrollHeight","currentMapWidth","scrollWidth","viewportBounds","WebMercatorViewport","fitBounds","boundsViewportToPass","mapboxApiAccessToken","mapStyle","onViewportChange","paint","tileSize","tiles","source","ref","defaultColormap","defaultViewport","bearing","pitch","R","G","B","App","hostnameProp","setIsSidebarOpen","hostname","setHostname","initializeApp","charAt","slice","onload","bind","Provider","SidebarDatasets","DHITheme","createMuiTheme","palette","primary","main","secondary","grey","medium","light","dark","flexLayout","flex","typography","h1","h2","h3","h6","h5","subtitle1","body2","drawerColor","drawerWidth","overrides","MuiButton","textTransform","containedSecondary","outlinedPrimary","outlinedSecondary","MuiCardActions","MuiCardContent","MuiCheckbox","MuiSvgIcon","MuiAccordion","MuiAccordionDetails","MuiAccordionSummary","content","minHeight","MuiFormControlLabel","paddingLeft","MuiIconButton","MuiInputBase","MuiPaper","rounded","elevation1","elevation4","MuiToolbar","regular","MuiTooltip","arrow","ReactDOM","render","StrictMode","ThemeProvider","GRASTheme","getElementById","innerText"],"mappings":"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QAAQ,QAApB,mBACM8B,EAAM,IAAMA,GADlB,OAC0B0G,aCsTvBa,GAnae,CAC1B,CACIC,YAAa,QACb/G,GAAI,QACJgH,QAAS,iFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,QACb/G,GAAI,QACJgH,QAAS,iFAEb,CACID,YAAa,QACb/G,GAAI,QACJgH,QAAS,iFAEb,CACID,YAAa,UACb/G,GAAI,UACJgH,QAAS,mFAEb,CACID,YAAa,UACb/G,GAAI,UACJgH,QAAS,mFAEb,CACID,YAAa,QACb/G,GAAI,QACJgH,QAAS,iFAEb,CACID,YAAa,QACb/G,GAAI,QACJgH,QAAS,iFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,MACb/G,GAAI,MACJgH,QAAS,+EAEb,CACID,YAAa,UACb/G,GAAI,UACJgH,QAAS,mFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,UACb/G,GAAI,UACJgH,QAAS,mFAEb,CACID,YAAa,WACb/G,GAAI,WACJgH,QAAS,oFAEb,CACID,YAAa,mBACb/G,GAAI,mBACJgH,QAAS,4FAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,MACb/G,GAAI,MACJgH,QAAS,+EAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,MACb/G,GAAI,MACJgH,QAAS,+EAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,UACb/G,GAAI,UACJgH,QAAS,mFAEb,CACID,YAAa,UACb/G,GAAI,UACJgH,QAAS,mFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,UACb/G,GAAI,UACJgH,QAAS,mFAEb,CACID,YAAa,UACb/G,GAAI,UACJgH,QAAS,mFAEb,CACID,YAAa,WACb/G,GAAI,WACJgH,QAAS,oFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,OACb/G,GAAI,OACJgH,QAAS,gFAEb,CACID,YAAa,WACb/G,GAAI,WACJgH,QAAS,oFAEb,CACID,YAAa,SACb/G,GAAI,SACJgH,QAAS,kFAEb,CACID,YAAa,YACb/G,GAAI,YACJgH,QAAS,qFA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","file":"static/js/main.b885dfd5.chunk.js","sourcesContent":["import { useState, useEffect } from 'react'\n/* eslint-disable */\nconst getWindowDimensions = () => {\n\n\tconst { clientWidth: width, clientHeight: height } = document.body\n\n\treturn {\n\t\twidth,\n\t\theight,\n\t}\n\n}\n\ninterface ReturnType {\n\twidth: number,\n\theight: number,\n}\nexport default (): ReturnType => {\n\n\tconst [ windowDimensions, setWindowDimensions ] = useState(\n\t\tgetWindowDimensions(),\n\t)\n\n\tuseEffect(() => {\n\n\t\tconst handleResize = () => {\n\n\t\t\tsetWindowDimensions(getWindowDimensions())\n\n\t\t}\n\n\t\twindow.addEventListener('resize', handleResize)\n\n\t\treturn () => window.removeEventListener('resize', handleResize)\n\n\t}, [])\n\n\treturn windowDimensions\n\n}\n","import useWindowDimensions from './useWindowDimensions'\n/* eslint-disable */\nexport default (): boolean => {\n\n\tconst { width } = useWindowDimensions()\n\n\treturn width < 600\n\n}\n","import React, { FC, MouseEvent } from 'react'\nimport {\n\tBox,\n\tIconButton,\n} from '@material-ui/core'\nimport {\n\tChevronLeft,\n\tChevronRight,\n\tExpandLess,\n\tExpandMore,\n} from '@material-ui/icons'\nimport { makeStyles } from '@material-ui/core/styles'\nimport useIsMobileWidth from '../common/hooks/useIsMobileWidth'\n\nconst iconStyle = makeStyles({\n\ticon: {\n\t\tbackgroundColor: '#fff',\n\t\theight: 22,\n\t},\n\tactiveIcon: {\n\t\tbackgroundColor: '#0b4566',\n\t\t'& path': {\n\t\t\tfill: '#fff',\n\t\t},\n\t},\n})\n\nconst useStyles = makeStyles(theme => ({\n\tleftBorder: {\n\t\tborderLeft: '1px solid #DBE4E9',\n\t},\n\ttopBorder: {\n\t\tborderTop: '1px solid #DBE4E9',\n\t},\n\tnoRadius: {\n\t\tborderRadius: 0,\n\t\twidth: 36,\n\t\theight: 36,\n\t},\n\ticonWrapper: {\n\t\tflexDirection: 'column',\n\t\theight: 'calc(100% - 72px)',\n\t\t'@media (max-width: 600px)': {\n\t\t\tflexDirection: 'row',\n\t\t\theight: 'auto',\n\t\t},\n\t},\n\ttooltipStyle: {\n\t\t[ theme.breakpoints.down('sm') ]: {\n\t\t\tdisplay: 'none',\n\t\t},\n\t},\n}))\n\ninterface Props {\n\ttoggleSidebarOpen: (event: MouseEvent<HTMLElement>) => void,\n\tisSidebarOpen: boolean,\n}\n\nconst SidebarControl: FC<Props> = ({\n\ttoggleSidebarOpen,\n\tisSidebarOpen,\n}) => {\n\n\tconst {\n\t\tleftBorder, topBorder\n\t} = useStyles()\n\tconst { icon } = iconStyle()\n\tconst isMobile = useIsMobileWidth()\n\n\tconst rootClass = isMobile ? topBorder : leftBorder\n\n\treturn (\n\t\t<Box\n\t\t\tclassName={rootClass}\n\t\t\tdisplay={'flex'}\n\t\t\theight={1}\n\t\t\tflexDirection={isMobile ? 'row' : 'column'}\n\t\t>\n\t\t\t<Box display={'flex'} justifyContent={'center'}>\n\t\t\t\t<IconButton\n\t\t\t\t\tonClick={toggleSidebarOpen}\n\t\t\t\t\tstyle={{ backgroundColor: '#fff' }}\n\t\t\t\t>\n\t\t\t\t\t{isSidebarOpen && !isMobile && (\n\t\t\t\t\t<ChevronRight className={icon} color={'primary'} />\n\t\t\t\t\t)}\n\t\t\t\t\t{!isSidebarOpen && !isMobile && (\n\t\t\t\t\t<ChevronLeft className={icon} color={'primary'} />\n\t\t\t\t\t)}\n\t\t\t\t\t{isSidebarOpen && isMobile && (\n\t\t\t\t\t<ExpandMore className={icon} color={'primary'} />\n\t\t\t\t\t)}\n\t\t\t\t\t{!isSidebarOpen && isMobile && (\n\t\t\t\t\t<ExpandLess className={icon} color={'primary'} />\n\t\t\t\t\t)}\n\t\t\t\t</IconButton>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n\n}\n\nexport default SidebarControl\n","import React, { FC, ReactNode } from 'react'\nimport { Paper, Box } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles(({ breakpoints }) => ({\n\trooterThanRoot: {\n\t\t[ breakpoints.down('xs') ]: {\n\t\t\twidth: '100%',\n\t\t\theight: '50%',\n\t\t},\n\t},\n\troot: {\n\t\t// overflowX: 'auto',\n\t\toverflowY: 'auto',\n\t\theight: '100%',\n\t\twidth: 'fit-content',\n\t\tmaxWidth: '50vw',\n\t\tminWidth: 360,\n\t\t[ breakpoints.down('xs') ]: {\n\t\t\twidth: '100%',\n\t\t},\n\t},\n\tleftBorder: {\n\t\tborderLeft: '1px solid #DBE4E9',\n\t},\n\ttopBorder: {\n\t\tborderTop: '1px solid #DBE4E9',\n\t},\n}))\n\ninterface Props {\n\tchildren?: ReactNode,\n}\nconst SidebarContent: FC<Props> = ({\n\tchildren,\n}) => {\n\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box className={classes.rooterThanRoot}>\n\t\t\t<Paper className={classes.root}>\n\t\t\t\t{children}\n\t\t\t</Paper>\n\t\t</Box>\n\t)\n\n}\n\nexport default SidebarContent\n","export default __webpack_public_path__ + \"static/media/header.87193822.svg\";","import React, { CSSProperties, useState, FC } from 'react'\nimport { Box, Typography, Paper, Link } from '@material-ui/core'\nimport HeaderImage from \"./../common/images/header.svg\"\nimport ExpandMoreOutlinedIcon from '@material-ui/icons/ExpandMoreOutlined';\nimport ExpandLessOutlinedIcon from '@material-ui/icons/ExpandLessOutlined';\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles(() => ({\n\twrapper: {\n\t\tmargin: 16,\n\t\tbackgroundColor: '#FFFFFF',\n\t\tborderBottom: '1px solid #86A2B3'\n\t},\n\ticon: {\n\t\twidth: 20,\n\t\theight: 22,\n\t\t\"&:hover\":{\n\t\t\topacity: .7\n\t\t}\n\t},\n\tinfoIcon: {\n\t\tmarginLeft: 4\n\t},\n\tdetailsBox: {\n\t\tmarginTop: 8,\n\t\tmarginBottom: 8,\n\t\t\"&:hover\":{\n\t\t\tcursor: 'pointer'\n\t\t}\n\t},\n\tdetailsText: {\n\t\tmarginTop: 6\n\t},\n\thostText: {\n\t\tfontSize: 12,\n\t\twordBreak: 'break-all'\n\t}\n}))\n\ninterface Props {\n\thost?: string,\n\tstyle?: CSSProperties,\n\tdetails?: string,\n\tkeys?: string[]\n}\nconst SidebarTitle: FC<Props> = ({\n\tstyle,\n\thost,\n\tdetails,\n\tkeys\n}) => {\n\n\tconst [ showDetails, setShowDetails ] = useState<boolean>(false)\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\tstyle={{ ...style }}\n\t\t\tclassName={classes.wrapper}\n\t\t>\n\t\t\t<Box display={'flex'} flexWrap={'nowrap'} justifyContent={'space-between'} alignItems={'center'}>\n\t\t\t\t<img src={HeaderImage} alt={'Teracotta preview app'} />\n\t\t\t</Box>\n\t\t\t<Paper\n\t\t\t\tclassName={classes.detailsBox}\n\t\t\t\tonClick={() => setShowDetails(!showDetails)}\n\t\t\t>\n\t\t\t\t<Box \n\t\t\t\t\tdisplay={'flex'}\n\t\t\t\t\tjustifyContent={'space-between'}\n\t\t\t\t\talignItems={'center'}\n\t\t\t\t>\n\t\t\t\t\t<Box display={'flex'} alignItems={'center'}>\n\t\t\t\t\t\t<Typography variant={'body1'}>\n\t\t\t\t\t\t\t{'Details'}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<InfoOutlinedIcon className={`${classes.icon} ${classes.infoIcon}`}/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{ !showDetails ? \n\t\t\t\t\t\t<ExpandMoreOutlinedIcon className={classes.icon} /> : \n\t\t\t\t\t\t<ExpandLessOutlinedIcon className={classes.icon} />\n\t\t\t\t\t}\n\t\t\t\t</Box>\n\t\t\t\t{showDetails && (\n\t\t\t\t\t<Typography className={classes.detailsText} variant={'body2'}>\n\t\t\t\t\t\t{details}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t</Paper>\n\t\t\t{\n\t\t\t\thost && keys && (\n\t\t\t\t\t<Box my={1}>\n\t\t\t\t\t\t<Typography variant={'body1'} className={classes.hostText}>\n\t\t\t\t\t\t\t<b>Host: </b>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{host}\t\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant={'body1'} className={classes.hostText}>\n\t\t\t\t\t\t\t<b>Docs: </b>\n\t\t\t\t\t\t\t<Link href={`${host}/apidoc`} target={'_blank'}>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{`${host}`}\n\t\t\t\t\t\t\t\t\t<b>{'/apidoc'}</b>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant={'body1'} className={classes.hostText}>\n\t\t\t\t\t\t\t<b>{'Keys: '}</b>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{`${keys.map((keyItem: string) => `/{${keyItem.toLowerCase()}}`).join('')}`}\t\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t)\n\t\t\t}\n\t\t\t\n\t\t</Box>\n\t)\n}\n\n\nexport default SidebarTitle\n","import { createContext } from 'react'\nimport { Viewport } from \"./map/types\"\nimport { FeatureDataset } from \"./map/types\"\nimport { ResponseMetadata200 } from \"./common/data/getData\"\nimport { Colormap } from \"./colormap/colormaps\"\n\nexport type RGBValue = {\n\trange: number[],\n\tband: string | undefined\n}\n\nexport type activeRGBSelectorRange = {\n\tR: RGBValue,\n\tG: RGBValue,\n\tB: RGBValue,\n\t[key: string]: RGBValue\n}\n\ninterface AppContextValues {\n\tstate: {\n        viewport: Viewport,\n        isOpticalBasemap: boolean,\n\t\thostname: string | undefined,\n\t\tkeys: string[] | undefined,\n\t\thoveredDataset: FeatureDataset | undefined,\n\t\tdatasets: undefined | ResponseMetadata200[],\n\t\tactiveDataset: undefined | number,\n\t\tselectedDatasetRasterUrl: string | undefined,\n\t\tpage: number,\n\t\tlimit: number,\n\t\tcolormap: Colormap,\n\t\tactiveSinglebandRange: number[] | undefined,\n\t\tactiveRGB: activeRGBSelectorRange | undefined,\n\t\tactiveEndpoint: string,\n\t\tdatasetBands: string[] | undefined\n\t},\n\tactions: {\n\t\tsetIsOpticalBasemap: Function,\n        setViewport: Function,\n\t\tsetKeys: Function,\n\t\tsetHoveredDataset: Function,\n\t\tsetDatasets: Function,\n\t\tsetActiveDataset: Function,\n\t\tsetSelectedDatasetRasterUrl: Function,\n\t\tsetPage: Function,\n\t\tsetLimit: Function,\n\t\tsetColormap: Function,\n\t\tsetActiveSinglebandRange: Function,\n\t\tsetActiveEndpoint: Function,\n\t\tsetActiveRGB: Function,\n\t\tsetDatasetBands: Function\n\t},\n}\n\ntype Context = AppContextValues\n\nconst AppContext = createContext<Context>(null as any)\n\nexport default AppContext\n","\n\nimport { FeatureDataset } from \"../../map/types\"\n\nexport type KeyItem = {\n    key: string\n}\n\nexport type ResponseKeys = {\n    keys: KeyItem[]\n}\n\nexport type DatasetItem = Record<string, string>\n\nexport type ResponseDatasets = {\n    page: number,\n    limit: number,\n    datasets: DatasetItem[]\n}\n\nexport type ResponseMetadata200 = {\n    keys: Record<string, string>,\n    bounds: number[],\n    convex_hull: FeatureDataset,\n    valid_percentage: number,\n    range: number[],\n    mean: number,\n    stdev: number,\n    percentiles: number[],\n    metadata: Record<string, string>,\n    [key: string]: Record<string, string> | number | number[] | FeatureDataset\n}\n\nexport type ResponseMetadata404 = {\n    message: string\n}\n\nexport type ResponseMetadata = ResponseMetadata200 | ResponseMetadata404\n\nconst getData = async (url: string): Promise< ResponseKeys | ResponseDatasets | ResponseMetadata | undefined> => {\n\n    try{\n\n        const data = await fetch(url);\n        const json = await data.json();\n        \n        return json\n\n    }catch(err){\n\n        console.error(err)\n        return undefined\n    }\n\n}\n\nexport default getData;","import React, { FC, ReactNode } from 'react'\nimport { Box, Typography, CircularProgress } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles(() => ({\n    wrapper: {\n\t\tmargin: 16,\n        paddingBottom: 16,\n\t\tbackgroundColor: '#FFFFFF',\n\t\tborderBottom: '1px solid #86A2B3'\n\t},\n    spinner: {\n        width: \"16px !important\",\n        height: \"16px !important\",\n        marginLeft: 6\n    }\n}))\n\ninterface Props {\n    isLoading?: boolean,\n    title: string,\n    children: ReactNode\n}\nconst SidebarItemWrapper: FC<Props> = ({\n    isLoading,\n    title,\n    children\n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <Box className={classes.wrapper}>\n            <Box display={'flex'} alignItems={'center'} mb={1}>\n                <Typography variant={'body1'}>\n                    {title}\n                </Typography>\n                {\n                    isLoading && <CircularProgress color={'primary'} className={classes.spinner}/>\n                }\n            </Box>\n            {children}\n        </Box>\n    )\n\n}\n\nexport default SidebarItemWrapper\n","import React, { FC, ChangeEvent } from 'react'\nimport { \n    Box,\n    FormControl,\n    MenuItem,\n    Select,\n    IconButton,\n    Typography\n } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\n\nconst useStyles = makeStyles(() => ({\n    formControl: {\n        border: 'none',\n        marginLeft: 6\n    },\n    icon: {\n        width: 20,\n        height: 20,\n        cursor: 'pointer'\n    }\n}))\n\ninterface Props {\n    value: number,\n    options: number[],\n    onGetValue: (val: number) => void,\n    page: number,\n    onGetPage: (page: number) => void,\n    disableNext: boolean\n}\nconst TablePagination: FC<Props> = ({\n    value, \n    options, \n    onGetValue,\n    onGetPage,\n    page,\n    disableNext\n}) => {\n    const classes = useStyles()\n\n    const handleChange = (e: ChangeEvent<{ name?: string | undefined; value: unknown; }>) => {\n        onGetValue(Number(e.target.value))\n    }\n\n    const onNextPage = () => {\n        onGetPage(page + 1)\n    }\n\n    const onPreviousPage = () => {\n        onGetPage(page - 1)\n    }\n\n    return (\n        <Box display={'flex'} justifyContent={'space-between'} alignItems={'center'}>\n             <Box display={'flex'} alignItems={'center'}>\n                <IconButton disabled={page === 0} onClick={onPreviousPage}>\n                    <NavigateBeforeIcon className={classes.icon}/>\n                </IconButton>\n                <Typography variant={'body2'}>\n                    {`Page ${page}`}\n                </Typography>\n                <IconButton onClick={onNextPage} disabled={disableNext}>\n                    <NavigateNextIcon className={classes.icon}/>\n                </IconButton>\n            </Box>\n            <Box display={'flex'} alignItems={'center'}>\n                <Typography variant={'body2'}>\n                    {'Rows per page:'}\n                </Typography>\n                <FormControl className={classes.formControl}>\n                    <Select\n                        id=\"demo-simple-select-outlined\"\n                        value={value}\n                        onChange={handleChange}\n                    >\n                        {\n                            options.map((option: number, i: number) => (\n                                <MenuItem key={`limit-${option}`} value={option}>{option}</MenuItem>\n                            ))\n                        }\n                    </Select>\n                </FormControl>\n            </Box>\n        </Box>\n    )\n}\n\nexport default TablePagination\n","import React, { FC } from 'react'\nimport { TableRow as MuiTableRow, TableCell, Box, IconButton } from '@material-ui/core'\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { DatasetItem } from \"../common/data/getData\"\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\n\nconst useStyles = makeStyles(() => ({\n    tableCell: {\n        padding: 6,\n        borderBottom: 'none'\n    },\n    tableRow: {\n        cursor: 'pointer'\n    },\n    icon: {\n        width: 18,\n        height: 18\n    },\n    iconChecked: {\n        color: '#61C051',\n    },\n    noPadding: {\n        padding: 0\n    }\n}))\n\ninterface Props {\n    dataset: DatasetItem,\n    keyVal: string,\n    checked: boolean,\n    onClick?: () => void,\n    onMouseEnter?: () => void,\n    onMouseLeave?: () => void\n}\n\nconst TableRow: FC<Props> = ({ \n    dataset, \n    keyVal, \n    checked, \n    onClick,\n    onMouseEnter,\n    onMouseLeave \n}) => {\n\n    const classes = useStyles()\n    \n    return (\n            <MuiTableRow \n                hover \n                onClick={onClick} \n                className={classes.tableRow}\n                onMouseEnter={onMouseEnter}\n                onMouseLeave={onMouseLeave}\n            >\n                <TableCell className={classes.tableCell} >\n                    <Box display={'flex'} alignItems={'center'}>\n                        {\n                            checked ? \n                            <IconButton classes={{root: classes.noPadding}}>\n                                <CheckCircleIcon className={`${classes.iconChecked} ${classes.icon}`}/>\n                            </IconButton> : \n                            <IconButton classes={{root: classes.noPadding}}>\n                                <RadioButtonUncheckedIcon className={classes.icon}/>\n                            </IconButton>\n                        }\n                    </Box>\n                </TableCell>\n                {\n                    Object.keys(dataset).map((item: string, i: number) => (\n                        <TableCell className={classes.tableCell} key={`${keyVal}-cell-${i}`}>\n                            {dataset[item]}\n                        </TableCell>\n                    ))\n                }\n            </MuiTableRow>\n    )\n}\n\nexport default TableRow\n","import React, { FC, useState, useEffect, ChangeEvent, FormEvent } from 'react'\nimport { Box, TextField, Button  } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\n\ntype FormValues = Record<string, string | number> | undefined\ntype OnChangeInput = ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\nconst useStyles = makeStyles(theme => ({\n    input: {\n        width: '50%'\n    },\n    inputLabel: {\n        '& label': {\n            fontSize: 12\n        }\n    }\n}))\n\ninterface Props {\n    keys: string[],\n    onSubmitFields: (queryString: string) => void\n}\nconst DatasetsForm: FC<Props> = ({\n    keys,\n    onSubmitFields\n}) => {\n\n    const classes = useStyles()\n    const [ formValues, setFormValues ] = useState<FormValues>(undefined)\n    const onChangeInput = (e: OnChangeInput, inputKey: string) => {\n        inputKey = inputKey.toLowerCase()\n        if(formValues){\n            const formValuesCopy = formValues\n            formValuesCopy[inputKey] = e.target.value\n            setFormValues(formValuesCopy)\n        }\n    }\n\n    const onSubmitForm = (e: FormEvent<HTMLFormElement> | undefined) => {\n        if(e) e.preventDefault()\n        if(formValues){\n\n            const queryString = Object.keys(formValues).map(\n                (keyItem: string) => \n                    formValues[keyItem] !== '' ? `&${keyItem}=${formValues[keyItem]}` : ''\n                ).join('')\n\n            if(queryString) onSubmitFields(queryString)\n        }\n    }\n\n    useEffect(() => {\n\n        const reduceKeys = keys.reduce((acc:Record<string, string> , keyItem: string) => {\n           \n            acc[keyItem.toLowerCase()] = ''\n            return acc\n\n        }, {})\n\n        setFormValues(reduceKeys)\n\n    }, [keys])\n\n    return (\n        <form onSubmit={e => onSubmitForm(e)}>\n            {\n                keys.map((keyItem: string, i: number) => {\n                    const isLastUneven = keys.length % 2 === 1 && i === keys.length - 1 ? true : false\n                return(\n                    <TextField \n                        key={`textfield-${keyItem}`} \n                        id={keyItem.toLocaleLowerCase()} \n                        label={keyItem}\n                        className={`${isLastUneven ? '' : classes.input} ${classes.inputLabel}`} \n                        fullWidth={isLastUneven}\n                        onChange={(e) => onChangeInput(e, keyItem.toLowerCase())}\n                    />\n                )})\n            }\n            <Box mt={2} width={1} display={'flex'} justifyContent={'flex-end'}>\n                <Button fullWidth type={'submit'} color={'secondary'} variant={'contained'} onClick={() => onSubmitForm(undefined)}>\n                    {'Search'}\n                </Button>\n            </Box>\n        </form>\n    )\n\n}\n\nexport default DatasetsForm\n","import React, { CSSProperties, useState, FC } from 'react';\r\nimport { Grid, Tooltip } from '@material-ui/core';\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport Clipboard from 'react-clipboard.js';\r\nconst disabledStyle = {\r\n  // borderBottom: '1px solid #cfdbe2',\r\n  color: '#cfdbe2',\r\n  cursor: 'no-drop',\r\n};\r\n\r\nconst enabledStyle = {\r\n  // borderBottom: '1px solid #0b4566',\r\n  color: '#0b4566',\r\n  cursor: 'pointer',\r\n};\r\n\r\nexport type CopyToClipboardProps = {\r\n  disabled?: boolean;\r\n  helperText?: string;\r\n  url?: boolean;\r\n  message?: string;\r\n  style?: CSSProperties,\r\n  className?: string | undefined\r\n};\r\n\r\nexport const mockCopy: VoidFunction = () => {\r\n  // call this function\r\n};\r\n\r\nconst CopyToClipboard: FC<CopyToClipboardProps> = ({\r\n  disabled = false,\r\n  helperText = '',\r\n  message = '',\r\n  style = {},\r\n  className\r\n}) => {\r\n  const [copyUrl] = useState(window.location.href);\r\n  const [tooltip, setTooltip] = useState(\r\n    helperText ? helperText : message ? 'Copy text' : 'Copy URL'\r\n  );\r\n\r\n  const copyAction = () => {\r\n    // mockCopy();\r\n    if (message) {\r\n      setTooltip('Text copied to Clipboard.');\r\n      setTimeout(() => {\r\n        setTooltip(helperText ? helperText : 'Copy text');\r\n      }, 5000);\r\n    } else {\r\n      setTooltip('URL copied to Clipboard.');\r\n      setTimeout(() => {\r\n        setTooltip(helperText ? helperText : 'Copy URL');\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const copy = () => {\r\n    if (disabled !== true) copyAction();\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      spacing={0}\r\n      justify=\"space-between\"\r\n      alignItems=\"flex-end\"\r\n      \r\n      style={disabled === true ? { ...style, ...disabledStyle } : { ...style, ...enabledStyle }}\r\n      onClick={() => copy()}\r\n    >\r\n      <Grid item>\r\n        <Grid container alignItems=\"center\" justify=\"center\">\r\n          <Clipboard\r\n            data-clipboard-text={message ? message : copyUrl}\r\n            className=\"copy-clipboard\"\r\n            style={{ background: 'none', border: '0px', outline: 'none' }}\r\n          >\r\n            <Tooltip title={tooltip}>\r\n              <FileCopyOutlinedIcon\r\n                color=\"primary\"\r\n                className={className}\r\n              />\r\n            </Tooltip>\r\n          </Clipboard>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default CopyToClipboard;\r\n","import React, { FC } from 'react'\nimport { Box, TableRow, TableCell, Grid, Collapse, Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { ResponseMetadata200 } from \"../common/data/getData\"\nimport CopyToClipboard from \"../common/components/CopyToClipboard\"\n\nconst useStyles = makeStyles(() => ({\n    imagePreview: {\n        height: '90%',\n        width: 'auto'\n    },\n    codeContainer: {\n        backgroundColor: '#F8F8F8', \n        overflowX: 'auto', \n        width: 'fit-content', \n        maxWidth: '100%'\n    },\n    codeContainerText: {\n        color: '#86A2B3',\n        fontSize: 11\n    },\n    copyTooltip: {\n        cursor: 'pointer'\n    }\n}))\n\ninterface Props {\n    host: string,\n    page: number,\n    limit: number,\n    i: number,\n    activeDataset?: number,\n    dataset: ResponseMetadata200,\n    keys?: string[],\n    datasetUrl?: string\n}\nconst DatasetPreview: FC<Props> = ({\n    host,\n    page,\n    limit,\n    i,\n    activeDataset,\n    dataset,\n    datasetUrl\n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <TableRow>\n            <TableCell style={{ padding: 0 }} colSpan={8}>\n                <Collapse in={page * limit + i === activeDataset} timeout=\"auto\" unmountOnExit>\n                    {\n                        datasetUrl && (\n\n                        <Box p={1} className={classes.codeContainer}>\n                            <Box width={1} display={'flex'} alignItems={'center'}>\n                                <Typography className={classes.codeContainerText}>\n                                    <code>\n                                        {'Raster url\\n'}\n                                    </code>\n                                </Typography>\n                                <Box>\n                                    <CopyToClipboard className={classes.copyTooltip} helperText={'Copy to clipboard'} message={datasetUrl}/>\n                                </Box>\n                            </Box>\n                            <code style={{ wordBreak: 'break-all' }}>\n                                {datasetUrl}\n                            </code>\n                        </Box>\n                        )\n                    }\n                    <Grid container>\n                        <Grid item xs={6}>\n                            <Box p={1} className={classes.codeContainer}>\n                            <Typography className={classes.codeContainerText}>\n                                <code>\n                                    {'Metadata\\n'}\n                                </code>\n                            </Typography>\n                                <code style={{ whiteSpace: 'pre' }}>\n                                    {'{\\n'}\n                                    {Object.keys(dataset).reduce(\n                                        (acc: string[], keyItem: string, j: number) => \n                                           {\n                                                const neededKeys = ['mean', 'range', 'stdev', 'valid_percentage'];\n                                                if(neededKeys.includes(keyItem)){\n                                                    if(keyItem === 'range'){\n                                                        const buildStr = `  ${keyItem}: [${dataset[keyItem]}],\\n`\n                                                        acc = [...acc, buildStr]\n                                                    }else{\n                                                        const buildStr = `  ${keyItem}: ${dataset[keyItem]},\\n`\n                                                        acc = [...acc, buildStr]\n                                                    }\n                                                \n                                                }\n\n                                            return acc\n                                           }, []).join('')}\n                                    {'}'}\n                                </code>\n                            </Box>\n                        </Grid>\n                        <Grid \n                            item \n                            xs={6} \n                            container\n                            justify={'center'}\n                            alignItems={'center'}\n                        >\n                            <img\n                                src={`${host}/singleband/${Object.keys(dataset.keys).map((datasetKey: string) => `${dataset.keys[datasetKey]}/`).join('')}preview.png?tile_size=[128,128]`} \n                                alt={'TC-preview'}\n                                className={classes.imagePreview}\n                                loading={'eager'}\n                            />\n                        </Grid>\n                    </Grid>\n                   \n                </Collapse>\n            </TableCell>\n        </TableRow>\n    )\n\n}\n\nexport default DatasetPreview\n","import React, { useState, useEffect } from 'react';\r\nimport { Slider as MSlider, Box, Grid, Typography } from '@material-ui/core';\r\n\r\ntype SliderProps = {\r\n  /**\r\n   * Default values of the slider in format `[min, max]` or `number`.\r\n   */\r\n  defaultValue: number[] | number;\r\n  title?: string | undefined;\r\n  min?: number | undefined;\r\n  max?: number | undefined;\r\n  step?: number | undefined;\r\n  /**\r\n   * Get the value while using the slider thumb.\r\n   */\r\n  getValue?: (val: number | number[]) => void;\r\n  /**\r\n   * Get the value once you release the slider thumb.\r\n   */\r\n  getValueCommitted?: (val: number | number[]) => void;\r\n  /**\r\n   * *Requires `title` prop. Counted in `rem` units.\r\n   */\r\n  sliderMarginLeft?: number | undefined;\r\n  noNumbers?: boolean | undefined;\r\n  /**\r\n   * Append a unit at the end of the values. (%, /10, £, $)\r\n   */\r\n  unit?: string | undefined;\r\n};\r\n\r\nconst Slider: React.FC<SliderProps> = ({\r\n  defaultValue = [0, 1],\r\n  title,\r\n  min = 0,\r\n  max = 1,\r\n  step = 0.01,\r\n  getValue,\r\n  getValueCommitted,\r\n  sliderMarginLeft = 1,\r\n  noNumbers = false,\r\n  unit = '',\r\n}) => {\r\n  const [value, setValue] = useState(defaultValue);\r\n\r\n  const handleChange = (newValue: number | number[]) => {\r\n\r\n    setValue(newValue);\r\n    getValue && getValue(newValue);\r\n\r\n  };\r\n\r\n  useEffect(() => {\r\n    \r\n    setValue(defaultValue)\r\n\r\n  }, [defaultValue])\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      direction=\"row\"\r\n      alignItems=\"center\"\r\n      justify=\"center\"\r\n      wrap=\"nowrap\"\r\n    >\r\n      {title && (\r\n        <Box>\r\n          <Grid\r\n            container\r\n            alignItems=\"center\"\r\n            style={{\r\n              height: '100%',\r\n              marginRight: noNumbers ? '1rem' : '0rem',\r\n            }}\r\n          >\r\n            <Typography variant=\"h5\">{title}</Typography>\r\n          </Grid>\r\n        </Box>\r\n      )}\r\n      {!noNumbers && Array.isArray(value) && typeof value[0] === 'number' && (\r\n        <Box style={{ marginLeft: title ? `${sliderMarginLeft}rem` : '0rem' }}>\r\n          <Grid\r\n            container\r\n            alignItems=\"center\"\r\n            justify=\"center\"\r\n            style={{ height: '100%', width: '2rem' }}\r\n          >\r\n            <Typography variant=\"body2\">{value[0] + unit}</Typography>\r\n          </Grid>\r\n        </Box>\r\n      )}\r\n\r\n      <MSlider\r\n        style={{ margin: '0rem .6rem' }}\r\n        value={value}\r\n        min={min}\r\n        step={step}\r\n        max={max}\r\n        scale={(x) => x / 10}\r\n        onChange={(e, val) => handleChange(val)}\r\n        onChangeCommitted={(e, val) =>\r\n          getValueCommitted && getValueCommitted(val)\r\n        }\r\n        valueLabelDisplay=\"off\"\r\n      />\r\n      {!noNumbers && Array.isArray(value) && (\r\n        <Box>\r\n          <Grid\r\n            container\r\n            alignItems=\"center\"\r\n            justify=\"center\"\r\n            style={{ height: '100%', width: '2rem' }}\r\n          >\r\n            <Typography variant=\"body2\">\r\n              {`${value[1] || value}${unit}`}\r\n            </Typography>\r\n          </Grid>\r\n        </Box>\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Slider;\r\n","export interface Colormap {\n    displayName: string,\n    id: string,\n    img_url: string\n}\n\nconst COLORMAPS: Colormap[] = [\n    { \n        displayName: 'Greys', \n        id: 'greys', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-greys-bar.png' \n    },\n    { \n        displayName: 'Gray', \n        id: 'gray', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gray-bar.png' \n    },\n    { \n        displayName: 'Binary', \n        id: 'binary', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-binary-bar.png' \n    },\n    { \n        displayName: 'Bone', \n        id: 'bone', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-bone-bar.png'\n    },\n    { \n        displayName: 'Cloud', \n        id: 'cloud', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-cloud-bar.png' \n    },\n    { \n        displayName: 'Blues', \n        id: 'blues', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-blues-bar.png'\n    },\n    { \n        displayName: 'Viridis', \n        id: 'viridis', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-viridis-bar.png' \n    },\n    { \n        displayName: 'Cividis', \n        id: 'cividis', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-cividis-bar.png' \n    },\n    { \n        displayName: 'Magma', \n        id: 'magma', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-magma-bar.png' \n    },\n    { \n        displayName: 'Ocean', \n        id: 'ocean', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-ocean-bar.png' \n    },\n    { \n        displayName: 'Afmhot', \n        id: 'afmhot', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-afmhot-bar.png' \n    },\n    { \n        displayName: 'Hot', \n        id: 'hot', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-hot-bar.png' \n    },\n    { \n        displayName: 'Inferno', \n        id: 'inferno', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-inferno-bar.png' \n    },\n    { \n        displayName: 'Plasma', \n        id: 'plasma', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-plasma-bar.png' \n    },\n    { \n        displayName: 'Spring', \n        id: 'spring', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-spring-bar.png' \n    },\n    { \n        displayName: 'Summer', \n        id: 'summer', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-summer-bar.png' \n    },\n    { \n        displayName: 'Autumn', \n        id: 'autumn', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-autumn-bar.png' \n    },\n    { \n        displayName: 'Winter', \n        id: 'winter', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-winter-bar.png' \n    },\n    { \n        displayName: 'Wistia', \n        id: 'wistia', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-wistia-bar.png' \n    },\n    { \n        displayName: 'Terrain', \n        id: 'terrain', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-terrain-bar.png' \n    },\n    { \n        displayName: 'Twilight', \n        id: 'twilight', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-twilight-bar.png' \n    },\n    { \n        displayName: 'Twilight_shifted', \n        id: 'twilight_shifted', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-twilight_shifted-bar.png' \n    },\n    { \n        displayName: 'Ylgn', \n        id: 'ylgn', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-ylgn-bar.png' \n    },\n    { \n        displayName: 'Brbg', \n        id: 'brbg', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-brbg-bar.png' \n    },\n    { \n        displayName: 'Brg', \n        id: 'brg', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-brg-bar.png' \n    },\n    { \n        displayName: 'Bugn', \n        id: 'bugn', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-bugn-bar.png' \n    },\n    { \n        displayName: 'Bupu', \n        id: 'bupu', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-bupu-bar.png' \n    },\n    { \n        displayName: 'Bwr', \n        id: 'bwr', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-bwr-bar.png' \n    },\n    { \n        displayName: 'Gnbu',\n        id: 'gnbu', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gnbu-bar.png' \n    },\n    { \n        displayName: 'Orrd', \n        id: 'orrd', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-orrd-bar.png' \n    },\n    { \n        displayName: 'Piyg', \n        id: 'piyg', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-piyg-bar.png' \n    },\n    { \n        displayName: 'Prgn', \n        id: 'prgn', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-prgn-bar.png' \n    },\n    { \n        displayName: 'Pubu', \n        id: 'pubu', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-pubu-bar.png' \n    },\n    { \n        displayName: 'Puor', \n        id: 'puor', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-puor-bar.png' \n    },\n    {\n        displayName: 'Purd', \n        id: 'purd', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-purd-bar.png' \n    },\n    { \n        displayName: 'Pubugn', \n        id: 'pubugn', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-pubugn-bar.png' \n    },\n    { \n        displayName: 'Rdbu', \n        id: 'rdbu', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-rdbu-bar.png' \n    },\n    { \n        displayName: 'Rdgy', \n        id: 'rdgy', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-rdgy-bar.png' \n    },\n    { \n        displayName: 'Rdpu', \n        id: 'rdpu', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-rdpu-bar.png' \n    },\n    { \n        displayName: 'Rdylbu', \n        id: 'rdylbu', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-rdylbu-bar.png' \n    },\n    { \n        displayName: 'Ylgnbu', \n        id: 'ylgnbu', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-ylgnbu-bar.png' \n    },\n    { \n        displayName: 'Ylorbr', \n        id: 'ylorbr', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-ylorbr-bar.png' \n    },\n    { \n        displayName: 'Ylorrd', \n        id: 'ylorrd', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-ylorrd-bar.png' \n    },\n    { \n        displayName: 'Rdylgn', \n        id: 'rdylgn', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-rdylgn-bar.png' \n    },\n    { \n        displayName: 'Greens', \n        id: 'greens', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-greens-bar.png' \n    },\n    { \n        displayName: 'Pink', \n        id: 'pink', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-pink-bar.png' \n    },\n    { \n        displayName: 'Oranges', \n        id: 'oranges', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-oranges-bar.png' \n    },\n    { \n        displayName: 'Purples', \n        id: 'purples', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-purples-bar.png' \n    },\n    { \n        displayName: 'Reds', \n        id: 'reds', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-reds-bar.png' \n    },\n    { \n        displayName: 'Rainbow', \n        id: 'rainbow', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-rainbow-bar.png' \n    },\n    { \n        displayName: 'Gnuplot', \n        id: 'gnuplot', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gnuplot-bar.png' \n    },\n    { \n        displayName: 'Gnuplot2', \n        id: 'gnuplot2', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gnuplot2-bar.png' \n    },\n    { \n        displayName: 'Cmrmap', \n        id: 'cmrmap', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-cmrmap-bar.png' \n    },\n    { \n        displayName: 'Cool', \n        id: 'cool', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-cool-bar.png' \n    },\n    { \n        displayName: 'Coolwarm', \n        id: 'coolwarm', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-coolwarm-bar.png' \n    },\n    { \n        displayName: 'Copper', \n        id: 'copper', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-copper-bar.png' \n    },\n    { \n        displayName: 'Cubehelix', \n        id: 'cubehelix', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-cubehelix-bar.png' \n    },\n    { \n        displayName: 'Seismic', \n        id: 'seismic', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-seismic-bar.png' \n    },\n    { \n        displayName: 'Accent', \n        id: 'accent', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-accent-bar.png' \n    },\n    { \n        displayName: 'Dark2', \n        id: 'dark2', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-dark2-bar.png' \n    },\n    { \n        displayName: 'Flag', \n        id: 'flag', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-flag-bar.png' \n    },\n    { \n        displayName: 'Prism', \n        id: 'prism', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-prism-bar.png' \n    },\n    { \n        displayName: 'Paired', \n        id: 'paired', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-paired-bar.png' \n    },\n    { \n        displayName: 'Pastel1', \n        id: 'pastel1', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-pastel1-bar.png' \n    },\n    { \n        displayName: 'Pastel2', \n        id: 'pastel2', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-pastel2-bar.png' \n    },\n    { \n        displayName: 'Set1', \n        id: 'set1', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-set1-bar.png' \n    },\n    { \n        displayName: 'Set2', \n        id: 'set2', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-set2-bar.png' \n    },\n    { \n        displayName: 'Set3', \n        id: 'set3', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-set3-bar.png' \n    },\n    { \n        displayName: 'Tab10', \n        id: 'tab10', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-tab10-bar.png' \n    },\n    { \n        displayName: 'Tab20', \n        id: 'tab20', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-tab20-bar.png' \n    },\n    { \n        displayName: 'Tab20b', \n        id: 'tab20b', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-tab20b-bar.png' \n    },\n    { \n        displayName: 'Tab20c', \n        id: 'tab20c', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-tab20c-bar.png' \n    },\n    { \n        displayName: 'Gist_earth', \n        id: 'gist_earth', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gist_earth-bar.png' \n    },\n    { \n        displayName: 'Gist_heat', \n        id: 'gist_heat', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gist_heat-bar.png' \n    },\n    { \n        displayName: 'Gist_ncar', \n        id: 'gist_ncar', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gist_ncar-bar.png' \n    },\n    { \n        displayName: 'Gist_rainbow', \n        id: 'gist_rainbow', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gist_rainbow-bar.png' \n    },\n    { \n        displayName: 'Gist_stern', \n        id: 'gist_stern', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gist_stern-bar.png' \n    },\n    { \n        displayName: 'Gist_gray', \n        id: 'gist_gray', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gist_gray-bar.png' \n    },\n    { \n        displayName: 'Gist_yarg', \n        id: 'gist_yarg', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-gist_yarg-bar.png' \n    },\n    { \n        displayName: 'Hsv', \n        id: 'hsv', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-hsv-bar.png' \n    },\n    { \n        displayName: 'Jet', \n        id: 'jet', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-jet-bar.png' \n    },\n    { \n        displayName: 'Nipy_spectral', \n        id: 'nipy_spectral', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-nipy_spectral-bar.png'\n    },\n    { \n        displayName: 'Sepctral', \n        id: 'spectral', \n        img_url: 'https://terracotta-python.readthedocs.io/en/latest/_images/cmap-spectral-bar.png' \n    },\n    \n]\n\nexport default COLORMAPS;","import React, { FC, useState, useContext, useEffect } from 'react'\nimport { \n    Box, \n    FormControl, \n    Select, \n    MenuItem, \n    InputLabel, \n    Grid \n} from '@material-ui/core'\nimport AppContext from \"./../AppContext\"\nimport Slider from \"../common/components/Slider\"\nimport COLORMAPS, { Colormap } from \"./colormaps\"\nimport { Legend } from '@dhi-gras/react-components'\n\n// reds\ninterface Props {\n\n}\n\nconst SinglebandSelector: FC<Props> = () => {\n    const {\n        state: { \n            colormap,\n            activeDataset,\n            page,\n            limit,\n            datasets,\n            activeSinglebandRange\n        },\n        actions: {\n            setColormap,\n            setActiveSinglebandRange\n        }\n    } = useContext(AppContext)\n\n    const [ localRange, setLocalRange ] = useState(activeSinglebandRange)\n    const onSetColormap = (colorId: string) => {\n\n        const colormapObj = COLORMAPS.find((item: Colormap) => item.id === colorId)\n        if(colormapObj) setColormap(colormapObj)\n        \n    }\n\n    const onSetRangeValue = (range: number[]) => {\n        setActiveSinglebandRange(range)\n    }\n\n    useEffect(() => {\n\n        activeSinglebandRange && setLocalRange(activeSinglebandRange)\n\n    }, [activeSinglebandRange])\n\n    return (\n        <Grid container alignItems={'center'}>\n            <Grid item xs={4}>\n                <FormControl fullWidth>\n                    <InputLabel>\n                        {'Colormap'}\n                    </InputLabel>\n                    <Select\n                        id=\"demo-simple-select-outlined\"\n                        value={colormap.id}\n                        onChange={(e) => onSetColormap(String(e.target.value))}\n                        fullWidth\n                    >\n                        {\n                            COLORMAPS.map((option: Colormap, i: number) => (\n                                <MenuItem key={`limit-${option.id}`} value={option.id}>{option.displayName}</MenuItem>\n                            ))\n                        }\n                    </Select>\n                </FormControl>\n            </Grid>\n            <Grid item xs={8}>\n                <Box mx={4}>\n                    {\n                        datasets && activeSinglebandRange !== undefined && activeDataset !== undefined &&(\n                        <>\n                            <Slider \n                                noNumbers \n                                getValueCommitted={value => Array.isArray(value) && onSetRangeValue(value)} \n                                getValue={(value: number | number[]) => Array.isArray(value) && setLocalRange(value)}\n                                defaultValue={activeSinglebandRange} \n                                min={datasets[activeDataset - page * limit]?.range[0] || 0} \n                                max={datasets[activeDataset - page * limit]?.range[1] || 0} \n                                step={0.01} \n                                title={'Contrast '}\n                            />\n                            <Legend \n                                src={colormap.img_url} \n                                range={localRange}\n                                length={2}\n                            />\n                        </>\n                        )\n                    }\n                </Box>\n            </Grid>\n        </Grid>\n    )\n\n}\n\nexport default SinglebandSelector\n","import React, { FC, useState } from 'react'\nimport { Box, Grid, FormControl, Select, MenuItem, InputLabel } from '@material-ui/core'\nimport Slider from \"../common/components/Slider\"\n\ninterface Props {\n    options?: string[],\n    selectValue?: string,\n    onGetSelectValue: (val: string) => void,\n    sliderValue: number[],\n    onGetSliderValue: (val: number[]) => void,\n    min: number,\n    max: number,\n    title: string\n}\n\nconst RGBSlider: FC<Props> = ({\n    options,\n    selectValue,\n    onGetSliderValue,\n    onGetSelectValue,\n    min,\n    max,\n    sliderValue,\n    title\n}) => {\n    const [ localRange, setLocalRange ] = useState(sliderValue)\n\n    return (\n        <Grid container alignItems={'center'}>\n            <Grid container item xs={2} alignItems={'center'}>\n                <FormControl fullWidth style={{ display: 'flex', alignItems: 'center' }}>\n                    <InputLabel style={{ fontSize: 10 }}>\n                        {'Band'}\n                    </InputLabel>\n                    <Select\n                        id=\"demo-simple-select-outlined\"\n                        value={selectValue || ''}\n                        onChange={(e) => onGetSelectValue(String(e.target.value))}\n                        fullWidth\n                    >\n                        {\n                            options?.map((option: string) => (\n                                <MenuItem key={`limit-${option}`} value={option}>{option}</MenuItem>\n                            ))\n                        }\n                    </Select>\n                </FormControl>\n            </Grid>\n            <Grid container item xs={10} alignItems={'center'}>\n                <Box ml={2} mt={2} width={1}>\n                    <Slider \n                        getValueCommitted={value => Array.isArray(value) && onGetSliderValue(value)} \n                        getValue={(value: number | number[]) => Array.isArray(value) && setLocalRange(value)}\n                        defaultValue={localRange} \n                        min={min} \n                        max={max} \n                        step={1} \n                        title={title}\n                    />\n                </Box>\n            </Grid>\n        </Grid>\n    )\n\n}\n\nexport default RGBSlider\n","import React, { FC, useContext, useEffect } from 'react'\nimport { \n    Box, \n} from '@material-ui/core'\nimport AppContext, { activeRGBSelectorRange } from \"./../AppContext\"\nimport RGBSlider from \"./RGBSlider\"\n\nconst RGBSelector: FC = () => {\n    const {\n        state: { \n            datasetBands,\n            activeRGB\n        },\n        actions: {\n            setActiveRGB\n        }\n    } = useContext(AppContext)\n\n    useEffect(() => {\n\n    }, [])\n\n    const onGetBandValue = (val: string, bandKey: string) => {\n        setActiveRGB((activeRGB: activeRGBSelectorRange) => activeRGB && {\n            ...activeRGB,\n            [ bandKey ]: { band: val, range: activeRGB[bandKey].range }\n        })\n    }\n\n    const onGetSliderValue = (val: number[], sliderKey: string) => {\n        setActiveRGB((activeRGB: activeRGBSelectorRange) => activeRGB && {\n            ...activeRGB,\n            [ sliderKey ]: { range: val, band: activeRGB[sliderKey].band }\n        })\n    }\n\n    return (\n        <Box>\n            {\n                datasetBands && activeRGB && (\n                    Object.keys(activeRGB).map((color: string) => (\n                        <RGBSlider \n                            options={datasetBands}\n                            max={255}\n                            min={0}\n                            sliderValue={activeRGB[color].range}\n                            title={color + ':'}\n                            selectValue={activeRGB[color].band}\n                            onGetSelectValue={(val) => onGetBandValue(val, color)}\n                            onGetSliderValue={(val) => onGetSliderValue(val, color)}\n                        />\n                    ))\n                )\n            }\n        </Box>\n    )\n\n}\n\nexport default RGBSelector\n","export type Endpoint = { id: string }\n\nconst endpoints: Endpoint[] = [\n    {\n        id: 'rgb'\n    },\n    {\n        id: 'singleband'\n    }\n]\n\nexport default endpoints","import React, { FC, useContext } from 'react'\nimport { Box, Typography, Collapse, FormControl, Select, MenuItem } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport SinglebandSelector from \"./SinglebandSelector\"\nimport RGBSelector from \"./RGBSelector\"\nimport AppContext from \"./../AppContext\"\nimport endpoints, { Endpoint } from \"./endpoints\"\n\nconst useStyles = makeStyles(() => ({\n    wrapper: {\n\t\tmargin: 16,\n        paddingBottom: 16,\n\t\tbackgroundColor: '#FFFFFF',\n\t\tborderBottom: '1px solid #86A2B3'\n\t},\n    rgbText: {\n        fontSize: 12,\n        marginRight: 6\n    }\n}))\n\nconst DatasetsColormap: FC = () => {\n\n    const {\n        state: { \n            activeDataset,\n            activeEndpoint\n        },\n        actions: {\n            setActiveEndpoint\n        }\n    } = useContext(AppContext)\n\n    // const [ isRGB, setIsRGB ] = useState<boolean>(false)\n    const classes = useStyles()\n\n    return (\n            <Collapse in={activeDataset !== undefined} timeout=\"auto\" unmountOnExit>\n                <Box className={classes.wrapper}>\n                    <Box \n                        display={'flex'} \n                        alignItems={'center'} \n                        mb={1}\n                        justifyContent={'space-between'}\n                    >\n                        <Typography variant={'body1'}>\n                            {'Customize layer'}\n                        </Typography>\n                        <Box display={'flex'} alignItems={'center'} style={{ minWidth: 100 }}>\n                            <FormControl fullWidth>\n                                <Select\n                                    id=\"demo-simple-select-outlined\"\n                                    value={activeEndpoint}\n                                    onChange={(e) => setActiveEndpoint(String(e.target.value))}\n                                    fullWidth\n                                >\n                                    {\n                                        endpoints.map((option: Endpoint) => (\n                                            <MenuItem key={`endpoint-${option.id}`} value={option.id}>{option.id}</MenuItem>\n                                        ))\n                                    }\n                                </Select>\n                            </FormControl>\n                        </Box>\n                    </Box>\n                        {\n                            activeEndpoint === 'singleband' &&  <SinglebandSelector />\n                        }\n                        {\n                            activeEndpoint === 'rgb' &&  <RGBSelector />\n                        }\n                </Box>\n            </Collapse>\n    )\n\n}\n\nexport default DatasetsColormap\n","import React, { FC, useState, useEffect, useContext, Fragment } from 'react'\nimport { \n    Table, \n    TableBody, \n    TableCell, \n    TableContainer, \n    TableHead, \n    TableRow as MuiTableRow, \n    Typography,\n    Box,\n} from '@material-ui/core'\nimport AppContext from \"../AppContext\"\nimport { makeStyles } from '@material-ui/core/styles'\nimport \n    getData, \n    { \n        ResponseDatasets, \n        DatasetItem, \n        ResponseMetadata200, \n        ResponseKeys,\n        KeyItem\n} from \"../common/data/getData\"\nimport SidebarItemWrapper from \"../sidebar/SidebarItemWrapper\"\nimport TablePagination from \"./TablePagination\"\nimport TableRow from \"./TableRow\"\nimport DatasetsForm from \"./DatasetsForm\"\nimport DatasetPreview from \"./DatasetPreview\"\nimport DatasetsColormap from \"../colormap/DatasetsColormap\"\nimport { defaultRGB } from \"../App\"\n\n\nconst useStyles = makeStyles(() => ({\n    wrapper: {\n\t\tmargin: 16,\n        paddingBottom: 16,\n\t\tbackgroundColor: '#FFFFFF',\n\t\tborderBottom: '1px solid #86A2B3',\n\t},\n    table: {\n        marginTop: '1rem',\n        width: \"100%\",\n        overflowX: 'auto',\n        overflowY: 'auto',\n        maxHeight: 515\n    },\n    tableHeadTypography: {\n        fontWeight: 'bold',\n    },\n    tableCell: {\n        padding: 6\n    },\n\n}))\n\ninterface Props {\n    host: string\n}\n\nconst limitOptions = [ 15, 25, 50, 100 ]\n\nconst SidebarDatasetsItem: FC<Props> = ({\n    host\n}) => {\n    const classes = useStyles()\n    const {\n        state: { \n            keys, \n            datasets, \n            activeDataset, \n            limit, \n            page,\n            activeSinglebandRange,\n            colormap,\n            activeEndpoint,\n            activeRGB,\n            selectedDatasetRasterUrl\n        },\n        actions: { \n            setKeys, \n            setHoveredDataset, \n            setDatasets, \n            setActiveDataset, \n            setSelectedDatasetRasterUrl,\n            setLimit,\n            setPage,\n            setActiveSinglebandRange,\n            setActiveRGB,\n            setDatasetBands\n        }\n    } = useContext(AppContext)\n\n    const [ queryFields, setQueryFields ] = useState<string | undefined>(undefined)\n    const [ isLoading, setIsLoading ] = useState<boolean>(true)\n\n    const getDatasets = async (host: string, pageRef: number, limitRef: number, queryString: string = '') => {\n\n        const response = await getData(`${host}/datasets?limit=${limitRef}&page=${pageRef}${queryString}`)\n        const datasetsResponse = response as ResponseDatasets | undefined\n        if(datasetsResponse && datasetsResponse.hasOwnProperty('datasets') && Array.isArray(datasetsResponse.datasets)){\n           \n            if(datasetsResponse.datasets[0]){\n                \n                const metadataResponsesPreFetch: unknown = datasetsResponse.datasets.map(\n                    async (dataset: DatasetItem) => {\n                        const buildMetadataUrl = Object.keys(dataset).map((keyItem: string) => `/${dataset[keyItem]}`).join('')\n                        const preFetchData = await fetch(`${host}/metadata${buildMetadataUrl}`)\n                        return preFetchData.json()\n                    })\n\n                    const metadataResponses = await Promise.all(metadataResponsesPreFetch as Iterable<unknown>)\n                    const typedMetadataResponses = metadataResponses as ResponseMetadata200[]\n                    setDatasets(typedMetadataResponses)\n\n            }else{\n\n                setDatasets(datasetsResponse.datasets)\n\n            }\n\n        }\n\n        setIsLoading(false)\n    }\n\n    const getKeys = async (host: string) => {\n\n        const response = await getData(`${host}/keys`)\n        const keysReponse = response as ResponseKeys | undefined\n\n        if(keysReponse && keysReponse.hasOwnProperty('keys') && Array.isArray(keysReponse.keys)){\n\n            const keysArray = keysReponse.keys.reduce((acc: string[], item: KeyItem) => {\n            \n                acc = [...acc, item.key]\n                return acc\n\n            }, [])\n            \n            setKeys(keysArray)\n\n            \n        }\n\n    \n    }\n\n    // useEffect(() => {\n\n    //     void getKeys(host)\n\n    // }, [host]) // eslint-disable-line react-hooks/exhaustive-deps\n\n    const onHandleRow = (index: number) => {\n\n        const actualIndex = page * limit + index;\n\n        if(activeDataset === actualIndex){\n            setActiveDataset(undefined)\n            setSelectedDatasetRasterUrl(undefined)\n            setActiveSinglebandRange(undefined)\n        }else{\n            const dataset = datasets?.[index]\n            setActiveDataset(actualIndex)\n            if(dataset){\n                setActiveSinglebandRange(dataset.range)\n            }\n        }\n\n    }\n\n    const onSubmitFields = (queryString: string) => {\n        setQueryFields(queryString)\n        setPage(0)\n        setActiveDataset(undefined)\n        setSelectedDatasetRasterUrl(undefined)\n    }\n\n    useEffect(() => {\n\n        setIsLoading(true)\n        void getKeys(host)\n        void getDatasets(host, page, limit, queryFields)\n\n    }, [host, page, limit, queryFields]) // eslint-disable-line react-hooks/exhaustive-deps\n\n    const onGetRGBBands = async (dataset: ResponseMetadata200) => {\n        const noBandKeysURL = `${host}/datasets?` + Object.keys(dataset.keys).map((item: string) => item !== 'band' ? `${item}=${dataset.keys[item]}&` : '' ).join('')\n        const response = await getData(noBandKeysURL) as ResponseDatasets\n        if(response?.datasets && activeRGB){\n\n            const { datasets } = response\n            const bands = datasets.map((dataset: DatasetItem) => dataset.band)\n            setDatasetBands(bands)\n\n        }\n    }\n\n\n    useEffect(() => {\n\n        if(activeDataset !== undefined && datasets && activeSinglebandRange){\n\n            setSelectedDatasetRasterUrl(undefined)\n            const dataset = datasets[activeDataset - page * limit]\n            const keysRasterUrl = Object.keys(dataset.keys).map((keyItem: string) => `/${dataset.keys[keyItem]}`).join('') + '/{z}/{x}/{y}.png'\n            \n            if(activeEndpoint === 'singleband'){\n\n                setActiveRGB(defaultRGB)\n                const buildRasterUrl = `${host}/${activeEndpoint}${keysRasterUrl}?colormap=${colormap.id}&stretch_range=[${activeSinglebandRange}]`\n                setSelectedDatasetRasterUrl(buildRasterUrl)\n\n            }\n\n            if(activeEndpoint === 'rgb'){\n               void onGetRGBBands(dataset)\n            }\n        }\n\n    }, [activeSinglebandRange, colormap, activeDataset, activeEndpoint])  // eslint-disable-line react-hooks/exhaustive-deps\n\n    useEffect(() => {\n\n        if(activeRGB && activeEndpoint === 'rgb' && datasets && activeDataset !== undefined){\n\n            const dataset = datasets[activeDataset - page * limit]\n            const hasValueForBand = Object.keys(activeRGB).every((colorObj) => activeRGB[colorObj].band)\n\n            if(hasValueForBand && dataset !== undefined){\n\n                const keysRasterUrl = Object.keys(dataset.keys).map((keyItem: string) => keyItem !== 'band' ? `/${dataset.keys[keyItem]}` : '').join('') + '/{z}/{x}/{y}.png'\n                const rgbParams = Object.keys(activeRGB).map((keyItem: string) => `${keyItem.toLowerCase()}=${activeRGB[keyItem].band}&${keyItem.toLowerCase()}_range=[${activeRGB[keyItem].range}]&`).join('')\n                const buildRasterUrl = `${host}/${activeEndpoint}${keysRasterUrl}?${rgbParams}`\n                setSelectedDatasetRasterUrl(buildRasterUrl)\n\n            }\n\n        }\n\n    }, [activeRGB, activeEndpoint, activeDataset, datasets])  // eslint-disable-line react-hooks/exhaustive-deps\n\n    return (\n        <SidebarItemWrapper isLoading={isLoading} title={'Search for datasets'}>\n            <Box>\n                {\n                    keys && \n                        <DatasetsForm \n                            keys={keys} \n                            onSubmitFields={onSubmitFields}\n                        />\n                }\n            </Box>\n            <DatasetsColormap />\n            <Box className={classes.table}>\n                <TableContainer onMouseLeave={() => setHoveredDataset(undefined)}>\n                    <Table\n                        aria-labelledby=\"tableTitle\"\n                        size={\"small\"} // medium\n                        aria-label=\"enhanced table\"\n                    >\n                        <TableHead>\n                            <MuiTableRow>\n                                <TableCell className={classes.tableCell} />\n                                {keys && (\n                                    keys.map((datasetKey: string, i: number) => (\n                                        <TableCell className={classes.tableCell} key={`dataset-key-head-${i}`}>\n                                            <Typography color={'primary'} className={classes.tableHeadTypography} variant={'body2'}>\n                                                {datasetKey}\n                                            </Typography>\n                                        </TableCell>\n                                    ))\n                                )}\n                            </MuiTableRow>\n                        </TableHead>\n                        <TableBody>\n                            {\n                                datasets && datasets.map((dataset: ResponseMetadata200, i: number) => (\n                                    <Fragment key={`dataset-${i}`}>\n                                        <TableRow \n                                            dataset={dataset.keys} \n                                            keyVal={`dataset-${i}`} \n                                            checked={page * limit + i === activeDataset}\n                                            onClick={() => onHandleRow(i)}\n                                            onMouseEnter={() => setHoveredDataset(dataset.convex_hull)}\n                                        />\n                                        <DatasetPreview \n                                            activeDataset={activeDataset}\n                                            dataset={dataset}\n                                            host={host}\n                                            i={i}\n                                            keys={keys}\n                                            limit={limit}\n                                            page={page}\n                                            datasetUrl={selectedDatasetRasterUrl}\n                                        />\n                                    </Fragment>\n                                ))\n                            }\n                            \n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Box>\n            <TablePagination \n                value={limit} \n                options={limitOptions}\n                onGetValue={(val: number) => setLimit(val)}\n                page={page}\n                onGetPage={(val: number) => setPage(val)}\n                disableNext={limit > (datasets?.length || 0)}\n            />\n        </SidebarItemWrapper>\n       \n    )\n\n}\n\nexport default SidebarDatasetsItem\n","import React, { FC, CSSProperties, useContext } from 'react';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport PublicIcon from '@material-ui/icons/Public';\nimport { IconButton, Grid, Tooltip } from '@material-ui/core';\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport AppContext from '../AppContext';\nimport { Viewport } from \"./types\"\n\n\nconst useStyles = makeStyles(() => ({\n  iconButton: {\n  \tpadding: 0\n  },\n  icon: {\n    backgroundColor: '#fff',\n    height: 36,\n    width: 36,\n    fill: '#0B4566',\n    padding: 6,\n    boxSizing: 'border-box',\n  },\n  activeIcon: {\n    backgroundColor: '#0b4566',\n    '& path': {\n      fill: '#fff',\n    },\n    height: 36,\n    width: 36,\n    padding: 6,\n    boxSizing: 'border-box',\n  },\n}))\n\nconst gridStyle: CSSProperties = {\n\tposition: 'fixed',\n\tleft: 0,\n\ttop: '50%',\n\twidth: 36,\n\tboxShadow: 'rgba(0, 0, 0, 0.16) 4px 0px 4px',\n\tzIndex: 100,\n\ttransform: 'translate(0, -50%)',\n};\n\nconst ZoomControl: FC = () => {\n  const classes = useStyles();\n  const {\n    state: { isOpticalBasemap },\n    actions: { setIsOpticalBasemap, setViewport },\n  } = useContext(AppContext);\n\n  return (\n    <Grid container style={{...gridStyle}}>\n      <Grid container>\n        <Tooltip placement=\"right\" title={'Change base map'}>\n          <IconButton\n            onClick={() => setIsOpticalBasemap(!isOpticalBasemap)}\n\t\t\tclassName={classes.iconButton}\n          >\n            <PublicIcon\n              className={!isOpticalBasemap ? classes.icon : classes.activeIcon}\n            />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n      <Grid container>\n        <IconButton\n          onClick={() => setViewport((v: Viewport) =>({...v, zoom: Number(v.zoom) + 1}))}\n\t\t  className={classes.iconButton}\n        >\n          <AddIcon className={classes.icon} />\n        </IconButton>\n      </Grid>\n      <Grid container>\n        <IconButton\n          onClick={() => setViewport((v: Viewport) =>({...v, zoom: Number(v.zoom) - 1}))}\n\t\t  className={classes.iconButton}\n        >\n          <RemoveIcon className={classes.icon} />\n        </IconButton>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default ZoomControl;\n","export const regionPaintFill = {\n    'fill-color': '#0b4566',\n    'fill-opacity': 0.1,\n}\n\nexport const regionPaintLine = {\n    'line-color': '#0b4566',\n    'line-width': 2\n}","import React, {\n\tuseEffect, useState, FC, useContext, useRef, RefObject\n} from 'react'\nimport ReactMapGL, { FlyToInterpolator, Source, Layer, WebMercatorViewport } from 'react-map-gl'\nimport ZoomControl from './MapZoomControl'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport { easeCubicInOut } from 'd3-ease'\nimport useIsMobileWidth from '../common/hooks/useIsMobileWidth'\nimport AppContext from \"../AppContext\"\nimport { Viewport } from \"./types\"\nimport { regionPaintFill, regionPaintLine } from \"./geojsonStyles\"\n\nconst accessToken = 'pk.eyJ1Ijoiam9zbGRoaSIsImEiOiJja2d0ZjdzbXAwMXdxMnNwN2Jkb2NvbXJ3In0.SayFfMYF2huWsZckbqNqEw'\n\ninterface Props {\n\thost?: string\n}\n\nconst Map: FC<Props> = ({ host }) => {\n\n\tconst isMobile = useIsMobileWidth()\n\tconst {\n\t\tstate: { \n\t\t\tisOpticalBasemap, \n\t\t\tviewport, \n\t\t\thoveredDataset, \n\t\t\tdatasets, \n\t\t\tactiveDataset,\n\t\t\tselectedDatasetRasterUrl,\n\t\t\tpage,\n\t\t\tlimit\n\t\t},\n\t\tactions: {\n\t\t\tsetViewport\n\t\t}\n\t} = useContext(AppContext)\n\n\tconst [ localViewport, setLocalViewport ] = useState<Viewport | undefined>(\n\t\tundefined,\n\t)\n\tconst [ localRasterUrl, setLocalRasterUrl ] = useState<undefined | string>(undefined)\n\tconst basemap = isOpticalBasemap ? 'mapbox://styles/mapbox/satellite-v9' : 'mapbox://styles/mapbox/light-v10'\n\n\tconst mapRef: RefObject<HTMLDivElement> | null = useRef(null)\n\n\tuseEffect(() => {\n\n\t\tconst { latitude, longitude, zoom } = viewport\n\t\tsetLocalViewport({\n\t\t\t...{\n\t\t\t\tlongitude,\n\t\t\t\tlatitude,\n\t\t\t\tzoom,\n\t\t\t\ttransitionDuration: 2000,\n\t\t\t\ttransitionInterpolator: new FlyToInterpolator(),\n\t\t\t\ttransitionEasing: easeCubicInOut,\n\t\t\t},\n\t\t})\n\n\n\t}, [ viewport ])\n\n\tuseEffect(() => {\n\t\t\n\t\tsetLocalRasterUrl(undefined)\n\t\tsetTimeout(() => {\n\t\t\tsetLocalRasterUrl(selectedDatasetRasterUrl)\n\t\t}, 200)\n\n\t}, [selectedDatasetRasterUrl])\n\n\tuseEffect(() => {\n\t\tif(activeDataset !== undefined && datasets){\n\t\t\t\n\t\t\tconst pageIndex = activeDataset - page * limit\n\t\t\tconst currentBounds = datasets[pageIndex].bounds\n\n\t\t\tconst formattedBounds: [[number, number], [number, number]] = [\n\t\t\t\t[ currentBounds[ 0 ], currentBounds[ 1 ] ],\n\t\t\t\t[ currentBounds[ 2 ], currentBounds[ 3 ] ],\n\t\t\t]\n\n\t\t\tif (formattedBounds[ 0 ][ 0 ] >= 89) formattedBounds[ 0 ][ 0 ] = 89\n\t\t\tif (formattedBounds[ 0 ][ 1 ] <= -89) formattedBounds[ 0 ][ 1 ] = -89\n\t\t\tif (formattedBounds[ 1 ][ 0 ] >= 179) formattedBounds[ 1 ][ 0 ] = 179\n\t\t\tif (formattedBounds[ 1 ][ 1 ] >= 89) formattedBounds[ 0 ][ 0 ] = 89\n\n\t\t\tif(mapRef.current !== null){\n\t\t\t\tconst mapHeight = mapRef.current?.scrollHeight\n\t\t\t\tconst currentMapWidth = mapRef.current?.scrollWidth\n\n\t\t\t\tif (mapHeight && currentMapWidth) {\n\n\t\t\t\t\tconst viewportBounds = new WebMercatorViewport(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth: currentMapWidth,\n\t\t\t\t\t\t\theight: mapHeight,\n\t\t\t\t\t\t}\n\t\t\t\t\t).fitBounds(formattedBounds, { padding: 40 })\n\n\t\t\t\t\tconst boundsViewportToPass = {\n\t\t\t\t\t\tzoom: viewportBounds.zoom,\n\t\t\t\t\t\tlatitude: viewportBounds.latitude,\n\t\t\t\t\t\tlongitude: viewportBounds.longitude,\n\t\t\t\t\t}\n\n\t\t\t\t\tsetViewport((localViewport: Viewport) => (\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...localViewport,\n\t\t\t\t\t\t\t...boundsViewportToPass,\n\t\t\t\t\t\t}\n\t\t\t\t\t))\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}, [ activeDataset ]) // eslint-disable-line react-hooks/exhaustive-deps\n\n\treturn (\n\t\t<ReactMapGL\n\t\t\t{...localViewport}\n\t\t\twidth={'100%'}\n\t\t\theight={'100%'}\n\t\t\tmapboxApiAccessToken={accessToken}\n\t\t\tmapStyle={basemap}\n\t\t\tonViewportChange={setLocalViewport}\n\t\t>\n\t\t\t{!isMobile && (\n\t\t\t\t<ZoomControl />\n\t\t\t)}\n\t\t\t{\n\t\t\t\thoveredDataset && (\n\t\t\t\t\t<Source\n\t\t\t\t\t\ttype={'geojson'}\n\t\t\t\t\t\tdata={hoveredDataset}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Layer type={'fill'} id={'hovered-dataset-fill'} paint={regionPaintFill}/>\n\t\t\t\t\t\t<Layer type={'line'} id={'hovered-dataset-line'} paint={regionPaintLine}/>\n\t\t\t\t\t</Source>\n\t\t\t\t)\n\t\t\t}\n\t\t\t{\n\t\t\t\tlocalRasterUrl && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Source type=\"raster\" id=\"dataset_raster\" tileSize={256} tiles={[localRasterUrl]}>\n\t\t\t\t\t\t\t<Layer type=\"raster\" id=\"selected-dataset-raster\" source=\"dataset_raster\" paint={{}}/>\n\t\t\t\t\t\t</Source>\n\t\t\t\t\t </>\n\t\t\t\t)\n\t\t\t}\n\t\t\t<div style={{ width: '100%', height: '100%', zIndex: -1 }} ref={mapRef}></div>\n\t\t</ReactMapGL>\n\t)\n\n}\n\nexport default Map\n","import React, { FC, useState, useEffect } from 'react';\nimport { Box } from \"@material-ui/core\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport SidebarControl from \"./sidebar/SidebarControl\"\nimport SidebarContent from \"./sidebar/SidebarContent\"\nimport SidebarTitle from \"./sidebar/SidebarTitle\"\nimport SidebarDatasetsItem from \"./sidebar-datasets/SidebarDatasets\"\nimport Map from \"./map/Map\"\nimport { FlyToInterpolator } from 'react-map-gl'\nimport { easeCubicInOut } from 'd3-ease'\nimport AppContext, { activeRGBSelectorRange } from \"./AppContext\"\nimport { Viewport } from \"./map/types\"\nimport { FeatureDataset } from \"./map/types\"\nimport { ResponseMetadata200 } from './common/data/getData';\nimport COLORMAPS, { Colormap } from \"./colormap/colormaps\"\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: '100%',\n\t\theight: \"100vh\",\n\t\tmargin: 0,\n\t\tpadding: 0,\n  }\n}))\n\nconst details = 'This applet lets you explore the data on any running Terracotta server. Just search for a dataset to get started!'\n\nconst defaultColormap = COLORMAPS[0]\n\nconst defaultViewport = {\n  latitude: 30.62136584218745,\n\tlongitude: 13.840430671501323,\n\tzoom: 1,\n\tbearing: 0,\n\tpitch: 0,\n\ttransitionDuration: 2000,\n\ttransitionInterpolator: new FlyToInterpolator(),\n\ttransitionEasing: easeCubicInOut,\n}\n\nexport const defaultRGB: activeRGBSelectorRange = {\n  R: {\n    band: undefined,\n    range: [0, 255]\n  },\n  G: {\n    band: undefined,\n    range: [0, 255]\n  },\n  B: {\n    band: undefined,\n    range: [0, 255]\n  },\n}\n\ninterface Props {\n  hostnameProp: string | undefined\n}\n\nconst App: FC<Props> = ({ hostnameProp }) => {\n  const [ isSidebarOpen, setIsSidebarOpen ] = useState<boolean>(true)\n  const [ viewport, setViewport ] = useState<Viewport>(defaultViewport)\n  const [ isOpticalBasemap, setIsOpticalBasemap ] = useState<boolean>(false)\n\n  const [ page, setPage ] = useState<number>(0)\n  const [ limit, setLimit ] = useState<number>(15)\n  const [ hostname, setHostname ] = useState<string | undefined>(undefined)\n  const [ keys, setKeys ] = useState<string[] | undefined>(undefined)\n  const [ datasets, setDatasets ] = useState<ResponseMetadata200[] | undefined>(undefined)\n  const [ activeDataset, setActiveDataset ] = useState<number | undefined>(undefined)\n  const [ hoveredDataset,  setHoveredDataset ] = useState<FeatureDataset | undefined>(undefined)\n  const [ selectedDatasetRasterUrl, setSelectedDatasetRasterUrl ] = useState<string | undefined>(undefined)\n  const [ colormap, setColormap ] = useState<Colormap>(defaultColormap)\n  const [ activeSinglebandRange, setActiveSinglebandRange ] = useState<[number, number] | undefined>(undefined)\n  const [ activeEndpoint, setActiveEndpoint ] = useState<string>('singleband')\n  const [ activeRGB, setActiveRGB ] = useState<activeRGBSelectorRange | undefined>(defaultRGB)\n  const [ datasetBands, setDatasetBands ] = useState<string[] | undefined>(undefined)\n\n  const classes = useStyles(); \n\n\tconst toggleSidebarOpen = () => setIsSidebarOpen(!isSidebarOpen)\n\n  const initializeApp = (hostname: string | undefined) => {\n    // sanitize hostname\n    // hostname = 'https://4opg6b5hc3.execute-api.eu-central-1.amazonaws.com/development'\n    if(hostname){\n\n      if (hostname.charAt(hostname.length - 1) === '/') {\n          hostname = hostname.slice(0, hostname.length - 1);\n      }\n\n      setHostname(hostname)\n    \n    }\n    \n}\n\n  useEffect(() => {\n\n    window.onload = initializeApp.bind(null, hostnameProp);\n\n  }, [hostnameProp])\n\n  return (\n    <div className={classes.root}>\n      <AppContext.Provider value={{\n        state: {\n          isOpticalBasemap,\n          viewport,\n          hostname,\n          keys,\n          hoveredDataset,\n          datasets,\n          activeDataset,\n          selectedDatasetRasterUrl,\n          page,\n          limit,\n          colormap,\n          activeSinglebandRange,\n          activeEndpoint,\n          activeRGB,\n          datasetBands\n        },\n        actions: {\n          setIsOpticalBasemap,\n          setViewport,\n          setKeys,\n          setHoveredDataset,\n          setDatasets,\n          setActiveDataset,\n          setSelectedDatasetRasterUrl,\n          setPage,\n          setLimit,\n          setColormap,\n          setActiveSinglebandRange,\n          setActiveEndpoint,\n          setActiveRGB,\n          setDatasetBands\n        }\n      }}>\n        <Box\n          display={'flex'}\n          height={1}\n          width={1}\n        >\n          <Map host={hostname}/>\n          {isSidebarOpen && (\n            <SidebarContent>\n              <SidebarTitle\n                host={hostname}\n                details={details}\n                keys={keys}\n              />\n              {\n                hostname && (\n                    <SidebarDatasetsItem host={hostname} />\n                )\n              }\n              \n            </SidebarContent>\n            )}\n            <SidebarControl\n              toggleSidebarOpen={toggleSidebarOpen}\n              isSidebarOpen={isSidebarOpen}\n            />\n        </Box>\n      </AppContext.Provider>\n    </div>\n   );\n}\n\nexport default App;\n","import { createMuiTheme } from '@material-ui/core/styles'\n\nconst DHITheme = createMuiTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: '#0B4566', // DHI Primary color\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#00A4EC', // Automatically generated secondary color\n\t\t\t'&:hover': '#0076C8',\n\t\t},\n\t\tgrey: {\n\t\t\tmedium: '#DBE4E9',\n\t\t\tlight: '#F2F5F7',\n\t\t\tdark: '#86A2B3',\n\t\t},\n\t},\n\tflexLayout: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tflex: 1,\n\t},\n\ttypography: {\n\t\th1: { fontSize: 32, fontWeight: 500 },\n\t\th2: { fontSize: 14, fontWeight: 400 },\n\t\th3: { fontSize: 50, fontWeight: 800 },\n\t\th6: {\n\t\t\tcolor: '#0B4566',\n\t\t\tfontSize: 14,\n\t\t\tbackgroundColor: '#F2F5F7',\n\t\t\tpadding: '8px 16px',\n\t\t},\n\t\th5: {\n\t\t\tfontSize: 12,\n\t\t\tcolor: '#0B4566',\n\t\t},\n\t\tp: {\n\t\t\tfontSize: 12,\n\t\t},\n\t\tsubtitle1: {\n\t\t\tfontSize: 14,\n\t\t\tfontWeight: 600,\n\t\t\tcolor: '#0B4566',\n\t\t},\n\t\tbody2: {\n\t\t\tfontSize: 12,\n\t\t},\n\t},\n\tdrawerColor: '#ffffff',\n\tdrawerWidth: '50vw',\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tcolor: '#fff',\n\t\t\t\tfontSize: 12,\n\n\t\t\t\ttextTransform: 'initial',\n\t\t\t\tpadding: '8px 16px',\n\t\t\t},\n\t\t\tcontainedSecondary: {\n\t\t\t\tbackgroundColor: '#00A4EC',\n\t\t\t\tcolor: '#fff',\n\t\t\t\t'&:disabled': {\n\t\t\t\t\tbackgroundColor: 'rgb(242, 245, 247)',\n\t\t\t\t\tcolor: 'rgba(207,219,226)',\n\t\t\t\t},\n\t\t\t\t'&:hover': {\n\t\t\t\t\tbackgroundColor: '#0076C8',\n\t\t\t\t},\n\t\t\t},\n\t\t\toutlinedPrimary: {\n\t\t\t\tbackgroundColor: ' rgba(0, 164, 236, 0.08)',\n\t\t\t\tborder: '1px solid #00A4EC',\n\t\t\t\tcolor: '#0B4566',\n\t\t\t},\n\t\t\toutlinedSecondary: {\n\t\t\t\tborder: '1px solid #DBE4E9',\n\t\t\t\tcolor: '#0B4566',\n\t\t\t},\n\t\t},\n\t\tMuiCardActions: {\n\t\t\troot: {\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMuiCardContent: {\n\t\t\troot: {\n\t\t\t\tpadding: 0,\n\t\t\t\t'&:last-child': {\n\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMuiCheckbox: {\n\t\t\troot: {\n\t\t\t\tpadding: '0px',\n\t\t\t\tMuiSvgIcon: {\n\t\t\t\t\troot: {\n\t\t\t\t\t\twidth: '12px',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMuiAccordion: {\n\t\t\troot: {\n\t\t\t\t'&$expanded': {\n\t\t\t\t\tmargin: 0,\n\t\t\t\t},\n\t\t\t\t'&:before': {\n\t\t\t\t\tbackgroundColor: 'none',\n\t\t\t\t},\n\t\t\t\t'&$disabled': {\n\t\t\t\t\tbackgroundColor: '#f2f5f7',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMuiAccordionDetails: {\n\t\t\troot: {\n\t\t\t\tborderBottom: '1px solid #DBE4E9',\n\t\t\t},\n\t\t},\n\t\tMuiAccordionSummary: {\n\t\t\tcontent: {\n\t\t\t\tmargin: '8px 0px ',\n\t\t\t\t'&$expanded': {\n\t\t\t\t\tmargin: '8px 0px ',\n\t\t\t\t},\n\t\t\t},\n\t\t\troot: {\n\t\t\t\tbackgroundColor: '#F8F8F8',\n\t\t\t\tborderBottom: '1px solid #DBE4E9',\n\t\t\t\tminHeight: 0,\n\t\t\t\t'&$expanded': {\n\t\t\t\t\tminHeight: 0,\n\t\t\t\t\tbackgroundColor: '#F2F5F7',\n\t\t\t\t},\n\t\t\t\t'&:hover': {\n\t\t\t\t\tbackgroundColor: '#F2F5F7',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMuiFormControlLabel: {\n\t\t\troot: {\n\t\t\t\twidth: '50%',\n\t\t\t\tmarginLeft: '0px',\n\t\t\t\tmarginRight: '0px',\n\t\t\t\t'Mui-disabled': {\n\t\t\t\t\t'-webkit-text-fill-color': 'rgba(207,219,226)',\n\t\t\t\t\topacity: 1,\n\t\t\t\t},\n\t\t\t},\n\t\t\tlabel: {\n\t\t\t\tfontSize: '12px',\n\t\t\t\tpaddingLeft: '.2rem',\n\t\t\t},\n\t\t},\n\t\tMuiIconButton: {\n\t\t\troot: {\n\t\t\t\tpadding: 8,\n\t\t\t},\n\t\t},\n\t\tMuiInputBase: {\n\t\t\tinput: {\n\t\t\t\tfontSize: 12,\n\t\t\t\tcolor: '#0B4566',\n\t\t\t},\n\t\t},\n\n\t\tMuiPaper: {\n\t\t\troot: {\n\t\t\t\tcolor: '#0B4566',\n\t\t\t},\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\televation1: {\n\t\t\t\tboxShadow: 'none',\n\t\t\t},\n\t\t\televation4: {\n\t\t\t\tboxShadow: 'none',\n\t\t\t},\n\t\t},\n\t\tMuiSvgIcon: {\n\t\t\troot: {\n\t\t\t\twidth: 16,\n\t\t\t\theight: 16,\n\t\t\t},\n\t\t},\n\t\tMuiToolbar: {\n\t\t\tregular: {\n\t\t\t\tminHeight: 56,\n\t\t\t\t'@media (min-width: 600px)': {\n\t\t\t\t\tminHeight: 56,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: {\n\t\t\t\tcolor: '#fff',\n\t\t\t\tbackgroundColor: '#0B4566',\n\t\t\t},\n\t\t\tarrow: {\n\t\t\t\tcolor: '#0B4566',\n\t\t\t},\n\t\t},\n\t},\n})\n\nexport default DHITheme\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { ThemeProvider } from \"@material-ui/core\"\nimport GRASTheme from \"./theme/theme\"\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<ThemeProvider theme={GRASTheme}>\n\t\t\t<App hostnameProp={document.getElementById('hostname-id')?.innerText}/>\n\t\t</ThemeProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}